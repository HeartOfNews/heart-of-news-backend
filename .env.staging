# Staging Environment Configuration for Heart of News Backend

# Environment
ENVIRONMENT=staging
DEBUG=false
PROJECT_NAME=Heart of News Staging
VERSION=0.1.0

# API
API_V1_STR=/api/v1
SECRET_KEY=${STAGING_SECRET_KEY}
CORS_ORIGINS=https://staging.heartofnews.com,https://api-staging.heartofnews.com

# Database
POSTGRES_SERVER=${STAGING_DB_HOST}
POSTGRES_USER=${STAGING_DB_USER}
POSTGRES_PASSWORD=${STAGING_DB_PASSWORD}
POSTGRES_DB=heart_of_news_staging

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO_SQL=false
DB_LOG_CONNECTIONS=false

# Query performance settings
DB_SLOW_QUERY_THRESHOLD=0.1
DB_ENABLE_QUERY_PROFILING=true

# Redis
REDIS_HOST=${STAGING_REDIS_HOST}
REDIS_PORT=6379
REDIS_PASSWORD=${STAGING_REDIS_PASSWORD}
REDIS_DB=0

# Caching settings
CACHE_ENABLED=true
CACHE_TTL_SHORT=60
CACHE_TTL_MEDIUM=300
CACHE_TTL_LONG=3600
CACHE_TTL_VERY_LONG=86400

# Elasticsearch
ELASTICSEARCH_HOST=${STAGING_ES_HOST}
ELASTICSEARCH_PORT=9200

# Authentication
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080
VERIFY_EMAIL=true
RESET_PASSWORD_TOKEN_EXPIRE_HOURS=4
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=24
AUTH_MAX_FAILED_ATTEMPTS=5
AUTH_LOCKOUT_DURATION_MINUTES=15
FRONTEND_URL=https://staging.heartofnews.com

# S3 / Storage
STORAGE_BUCKET_NAME=heart-of-news-staging-media
AWS_ACCESS_KEY_ID=${STAGING_AWS_ACCESS_KEY}
AWS_SECRET_ACCESS_KEY=${STAGING_AWS_SECRET_KEY}
AWS_REGION=us-east-1

# Scraper settings
SCRAPER_USER_AGENT=HeartOfNewsBot-Staging/1.0
SCRAPER_REQUEST_DELAY=1.0

# Monitoring and Logging
LOG_LEVEL=INFO
HTTPX_LOG_LEVEL=WARNING
UVICORN_LOG_LEVEL=INFO
SQLALCHEMY_LOG_LEVEL=WARNING
ENABLE_METRICS=true
PROMETHEUS_MULTIPROC_DIR=/tmp/prometheus_multiproc
SENTRY_DSN=${STAGING_SENTRY_DSN}
ENABLE_PERFORMANCE_TRACKING=true
METRICS_EXPORT_INTERVAL=15

# Application Performance Monitoring
ELASTIC_APM_SERVER_URL=${STAGING_APM_URL}
ELASTIC_APM_SERVICE_NAME=heart-of-news-backend-staging
DATADOG_API_KEY=${STAGING_DATADOG_API_KEY}
DATADOG_APP_KEY=${STAGING_DATADOG_APP_KEY}

# Health checks
HEALTH_CHECK_INTERVAL=60